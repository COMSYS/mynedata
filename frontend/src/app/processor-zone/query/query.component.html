<div fxLayout="column" fxLayoutAlign="space-around stretch">
  <mat-button-toggle-group #toggleQueryType="matButtonToggleGroup" value="public">
    <mat-button-toggle value="public" aria-label="Text align left">
      Public Queries
    </mat-button-toggle>
    <mat-button-toggle value="pin" aria-label="Text align center">
      PIN Queries
    </mat-button-toggle>
  </mat-button-toggle-group>
  <ng-container *ngIf="toggleQueryType.value == 'public'">
    <mat-tab-group>
      <mat-tab>
        <ng-template mat-tab-label>
          {{print('request-active-requests-title')|uppercase}}
        </ng-template>
        <ng-template matTabContent>
          <table mat-table [dataSource]="matTablePendingQueries" class="mat-elevation-z8" matSort>
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('request-tables-header-request-title')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.title}}</td>
            </ng-container>

            <ng-container matColumnDef="query">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query}}</td>
            </ng-container>

            <ng-container matColumnDef="interval_finish_time">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-interval-time-end')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{showAsDateString(pendingRequest.interval_finish_time)}}</td>
            </ng-container>

            <ng-container matColumnDef="query_id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}} ID</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query_id}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="getMatHeaderRow()"></tr>
            <tr mat-row *matRowDef="let pendingRequest; columns: getMatTableShownColumns();" class="mouse-cursor" (click)="openQueryInfoDialog(pendingRequest)"></tr>
          </table>

          <mat-paginator [pageSizeOptions]="[9]"></mat-paginator>
        </ng-template>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          {{print('request-completed-requests-title')|uppercase}}
        </ng-template>
        <ng-template matTabContent>
          <table mat-table [dataSource]="matTableCompletedQueries" class="mat-elevation-z8" matSort>
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('request-tables-header-request-title')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.title}}</td>
            </ng-container>

            <ng-container matColumnDef="query">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query}}</td>
            </ng-container>

            <ng-container matColumnDef="interval_finish_time">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-interval-time-end')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{showAsDateString(pendingRequest.interval_finish_time)}}</td>
            </ng-container>

            <ng-container matColumnDef="query_id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}} ID</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query_id}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="getMatHeaderRow()"></tr>
            <tr mat-row *matRowDef="let pendingRequest; columns: getMatTableShownColumns();" class="mouse-cursor" (click)="openQueryInfoDialog(pendingRequest)"></tr>
          </table>

          <mat-paginator [pageSizeOptions]="[9]"></mat-paginator>
        </ng-template>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          {{print('request-aborted-requests-title')|uppercase}}
        </ng-template>
        <ng-template matTabContent>
          <table mat-table [dataSource]="matTableAbortedQueries" class="mat-elevation-z8" matSort>
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('request-tables-header-request-title')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.title}}</td>
            </ng-container>

            <ng-container matColumnDef="query">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query}}</td>
            </ng-container>

            <ng-container matColumnDef="interval_finish_time">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-interval-time-end')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{showAsDateString(pendingRequest.interval_finish_time)}}</td>
            </ng-container>

            <ng-container matColumnDef="query_id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}} ID</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query_id}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="getMatHeaderRow()"></tr>
            <tr mat-row *matRowDef="let pendingRequest; columns: getMatTableShownColumns();" class="mouse-cursor" (click)="openQueryInfoDialog(pendingRequest)"></tr>
          </table>

          <mat-paginator [pageSizeOptions]="[9]"></mat-paginator>
        </ng-template>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          {{print('request-paid-requests-title')|uppercase}}
        </ng-template>
        <ng-template matTabContent>
          <table mat-table [dataSource]="matTablePaidQueries" class="mat-elevation-z8" matSort>
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('request-tables-header-request-title')}}</th>
              <td mat-cell *matCellDef="let request">{{request.title}}</td>
            </ng-container>

            <ng-container matColumnDef="query">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}}</th>
              <td mat-cell *matCellDef="let request">{{request.query}}</td>
            </ng-container>

            <ng-container matColumnDef="interval_finish_time">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-interval-time-end')}}</th>
              <td mat-cell *matCellDef="let request">{{showAsDateString(request.interval_finish_time)}}</td>
            </ng-container>

            <ng-container matColumnDef="query_id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}} ID</th>
              <td mat-cell *matCellDef="let request">{{request.query_id}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="getMatHeaderRow()"></tr>
            <tr mat-row *matRowDef="let request; columns: getMatTableShownColumns();" class="mouse-cursor" (click)="openQueryInfoDialog(request)"></tr>
          </table>

          <mat-paginator [pageSizeOptions]="[9]"></mat-paginator>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </ng-container>
  <ng-container *ngIf="toggleQueryType.value == 'pin'">
    <mat-tab-group>
      <mat-tab>
        <ng-template mat-tab-label>
          {{print('request-active-requests-title')|uppercase}}
        </ng-template>
        <ng-template matTabContent>
          <table mat-table [dataSource]="matTablePendingPinQueries" class="mat-elevation-z8" matSort>
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('request-tables-header-request-title')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.title}}</td>
            </ng-container>

            <ng-container matColumnDef="query">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query}}</td>
            </ng-container>

            <ng-container matColumnDef="interval_finish_time">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-interval-time-end')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.interval_finish_time}}</td>
            </ng-container>

            <ng-container matColumnDef="query_id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}} ID</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query_id}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="getMatHeaderRow()"></tr>
            <tr mat-row *matRowDef="let pendingRequest; columns: getMatTableShownColumns();" class="mouse-cursor" (click)="openQueryInfoDialog(pendingRequest)"></tr>
          </table>

          <mat-paginator [pageSizeOptions]="[9]"></mat-paginator>
        </ng-template>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          {{print('request-completed-requests-title')|uppercase}}
        </ng-template>
        <ng-template matTabContent>
          <table mat-table [dataSource]="matTableCompletedPinQueries" class="mat-elevation-z8" matSort>
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('request-tables-header-request-title')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.title}}</td>
            </ng-container>

            <ng-container matColumnDef="query">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query}}</td>
            </ng-container>

            <ng-container matColumnDef="interval_finish_time">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-interval-time-end')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.interval_finish_time}}</td>
            </ng-container>

            <ng-container matColumnDef="query_id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}} ID</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query_id}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="getMatHeaderRow()"></tr>
            <tr mat-row *matRowDef="let pendingRequest; columns: getMatTableShownColumns();" class="mouse-cursor" (click)="openQueryInfoDialog(pendingRequest)"></tr>
          </table>

          <mat-paginator [pageSizeOptions]="[9]"></mat-paginator>
        </ng-template>
      </mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          {{print('request-aborted-requests-title')|uppercase}}
        </ng-template>
        <ng-template matTabContent>
          <table mat-table [dataSource]="matTableAbortedPinQueries" class="mat-elevation-z8" matSort>
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('request-tables-header-request-title')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.title}}</td>
            </ng-container>

            <ng-container matColumnDef="query">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query}}</td>
            </ng-container>

            <ng-container matColumnDef="interval_finish_time">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-interval-time-end')}}</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.interval_finish_time}}</td>
            </ng-container>

            <ng-container matColumnDef="query_id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{print('register-query-form-placeholder-query-string')}} ID</th>
              <td mat-cell *matCellDef="let pendingRequest">{{pendingRequest.query_id}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="getMatHeaderRow()"></tr>
            <tr mat-row *matRowDef="let pendingRequest; columns: getMatTableShownColumns();" class="mouse-cursor" (click)="openQueryInfoDialog(pendingRequest)"></tr>
          </table>

          <mat-paginator [pageSizeOptions]="[9]"></mat-paginator>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </ng-container>
</div>
<app-fab-simple [tooltip]="'create new query'" [click]="openDialog.bind(this)"></app-fab-simple>
